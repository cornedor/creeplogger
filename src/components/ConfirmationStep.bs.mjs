// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Button from "./Button.bs.mjs";
import * as Js_dict from "rescript/lib/es6/js_dict.js";
import * as Players from "../helpers/Players.bs.mjs";
import * as Core__Option from "@rescript/core/src/Core__Option.bs.mjs";
import * as JsxRuntime from "react/jsx-runtime";

function mapPlayer(users, key) {
  var creeper = Players.playerByKey(users, key);
  if (creeper !== undefined) {
    return creeper.name;
  } else {
    return "...";
  }
}

function ConfirmationStep(props) {
  var perPlayerDeltas = props.perPlayerDeltas;
  var players = props.players;
  var reset = props.reset;
  var winners = props.winners;
  var winnerNames = winners.map(function (winner) {
          return mapPlayer(players, winner);
        }).join(" & ");
  var tmp;
  if (perPlayerDeltas !== undefined) {
    var items = winners.map(function (wKey) {
          var name = mapPlayer(players, wKey);
          var delta = Core__Option.getOr(Js_dict.get(perPlayerDeltas, wKey), 0);
          var sign = delta >= 0 ? "+" : "";
          return JsxRuntime.jsx("li", {
                      children: name + ": " + sign + delta.toString()
                    }, wKey);
        });
    tmp = JsxRuntime.jsx("ul", {
          children: items,
          className: "mb-6"
        });
  } else {
    tmp = null;
  }
  return JsxRuntime.jsxs("div", {
              children: [
                JsxRuntime.jsx("h1", {
                      children: "Gefeliciteerd, " + winnerNames + "!",
                      className: "text-3xl"
                    }),
                JsxRuntime.jsxs("div", {
                      children: [
                        "+",
                        Math.round(props.score) | 0
                      ],
                      className: "text-lime-400 text-[160px]",
                      style: {
                        textShadow: "0 0 20px rgb(163 230 53)"
                      }
                    }),
                tmp,
                JsxRuntime.jsx(Button.make, {
                      variant: "Blue",
                      onClick: (function (param) {
                          reset();
                        }),
                      children: "Verder"
                    })
              ],
              className: "flex justify-center items-center h-screen flex-col"
            });
}

var make = ConfirmationStep;

export {
  make ,
}
/* Button Not a pure module */
