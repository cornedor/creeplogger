// Generated by ReScript, PLEASE EDIT WITH CARE

import * as React from "react";
import * as Js_json from "@rescript/runtime/lib/es6/Js_json.js";
import * as Database from "./Database.bs.mjs";
import * as Database$1 from "firebase/database";
import * as FirebaseNetworkFix from "./firebase-network-fix";

function useFirebaseStatus() {
  let match = React.useState(() => false);
  let setStatus = match[1];
  FirebaseNetworkFix.useFirebaseNetworkFix();
  React.useEffect(() => {
    let ref = Database$1.ref(Database.database, ".info/connected");
    return Database$1.onValue(ref, snap => {
      let value = snap.val();
      if (value == null) {
        return setStatus(param => false);
      }
      let match = Js_json.decodeBoolean(value);
      if (match !== undefined && match) {
        return setStatus(param => true);
      }
      setStatus(param => false);
    }, undefined);
  }, []);
  return match[0];
}

export {
  useFirebaseStatus,
}
/* react Not a pure module */
